# =========================================
# NLP Pipeline Configuration
# Fintech Review Analytics
# =========================================

nlp:
  # Language settings
  language: "en"
  detect_language: true

  # Text normalization
  clean_text: true
  steps:
    - "lowercase"
    - "remove_urls"
    - "remove_html"
    - "remove_emojis"
    - "remove_special_chars"
    - "normalize_whitespace"

  # Stopwords
  stopwords:
    enabled: true
    custom: []             # Add project-specific stopwords

  # Lemmatization / Stemming
  lemmatize: true
  stem: false              # Enable only if doing keyword clustering

  # Sentence splitting
  sentence_tokenize: true


# -----------------------------------------
# SENTIMENT ANALYSIS
# -----------------------------------------
sentiment:
  enabled: true
  engine: "vader"          # vader | textblob | transformer
  transformer_model: "cardiffnlp/twitter-roberta-base-sentiment"

  # Optional smoothing for noisy review sentiment
  rolling_window: 3


# -----------------------------------------
# KEYWORD EXTRACTION
# -----------------------------------------
keywords:
  enabled: true
  method: "rake"           # rake | yake | keybert

  keybert:
    model: "all-mpnet-base-v2"
    top_k: 10
    use_mmr: true

  rake:
    min_len: 1
    max_len: 4

  yake:
    max_ngram_size: 3
    deduplication_threshold: 0.1
    top_k: 15


# -----------------------------------------
# THEME EXTRACTION
# -----------------------------------------
themes:
  enabled: true
  method: "lda"            # lda | hdbscan | kmeans | nmf

  lda:
    num_topics: 8
    max_iter: 300

  kmeans:
    clusters: 10
    max_iter: 300

  hdbscan:
    min_cluster_size: 20

  nmf:
    components: 6


# -----------------------------------------
# OUTPUT SETTINGS
# -----------------------------------------
output:
  save_clean_text: true
  save_sentiment: true
  save_keywords: true
  save_themes: true

  clean_text_path: "data/interim/cleaned_reviews.csv"
  enriched_output_path: "data/processed/nlp_enriched_reviews.csv"
